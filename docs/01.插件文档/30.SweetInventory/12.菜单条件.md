---
title: 菜单条件
date: 2026-02-07 18:50:04
permalink: /docs/inventory/requirements
sponsorship: true
---

在菜单配置中使用的条件配置，使用以下基本格式

```yaml
requirements:
  条件名称1: 条件简要格式
  条件名称2:
    type: 条件类型
    # ... 条件详细配置
# 或者使用简写格式
#requirement: 条件简要格式
deny-commands:
  - '[message]不满足条件时执行操作'
# 或者使用简写格式
#deny-commands: '[message]不满足条件时执行操作'
```

+ `requirements` 是条件列表，条件名称可以随便取，只要不重复就行了
+ `requirement` 是单个条件简写格式
+ `deny-commands` 是不满足条件时[执行操作](/docs/inventory/actions)

所有详细条件条目都可以独立添加 `deny-commands`，如下所示
```yaml
requirements:
  条件名称1:
    type: 条件类型
    deny-commands: []
deny-commands: []
```

这篇文档将会介绍本插件自带的条件类型及其格式，如无特殊说明，条件参数均支持 PAPI 变量。

在 type 的值的最前面添加 `!` 可以反转条件判定结果，例如：
```yaml
    type: '!permission'
```

## number

数字比较条件。输入两个数字，判定其是否符合条件。目前可以使用以下操作符：
+ `=`、`==`、`equals` 判定两个数字是否相等
+ `>`、`large than` 判定前一个数字是否比后一个数字大
+ `>=`、`large than or equals` 判定前一个数字是否比后一个数字大，或两个数字相等
+ `<`、`less than`、`smaller than` 判定前一个数字是否比后一个数字小
+ `<=`、`less than or equals`、`smaller than or equals` 判定前一个数字是否比后一个数字小，或两个数字相等

:::: tabs
::: tab 详细格式
```yaml
requirements:
  条件名称1:
    input: '前一个数字'
    type: '操作符' # 例如 >=
    output: '后一个数字'
```
:::
::: tab 简写格式
> 该条件没有简写格式
:::
::::

## page

页码比较条件。判定当前菜单的页码是否符合条件。

:::: tabs
::: tab 详细格式
```yaml
requirements:
  条件名称1:
    type: page
    # 判定是否有上一页
    has-prev-page: false
    # 判定是否有下一页
    has-next-page: false
```
:::
::: tab 简写格式
```yaml
# 简写格式1: 判定是否有上一页
requirement: page has-prev-page
```
```yaml
# 简写格式2: 判定是否有下一页
requirement: page has-next-page
```
:::
::::

## permission

权限比较条件。判定预览菜单的玩家是否有指定权限。
:::: tabs
::: tab 详细格式
```yaml
requirements:
  条件名称1:
    type: permission
    permission: '需要判定的权限'
```
:::
::: tab 简写格式
```yaml
requirement: perm 需要判定的权限
#requirement: '!perm 需要判定的权限'
```
:::
::::

## eval

表达式比较条件。通过 [EvalEx](https://ezylang.github.io/EvalEx/references/references.html) 判定表达式是否成立。

当表达式解析错误的时候会在后台提示报错，并使得条件判定为不成立。

:::: tabs
::: tab 详细格式
```yaml
requirements:
  条件名称1:
    type: eval
    expression: '表达式'
    #expression: '%vault_eco_balance% >= 100'
```
:::
::: tab 简写格式
```yaml
requirement: eval 表达式
#requirement: eval %vault_eco_balance% >= 100
```
:::
::::
