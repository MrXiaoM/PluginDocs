---
title: 菜单配置
date: 2026-02-07 17:50:34
permalink: /docs/inventory/menus
---

菜单默认存放在 `/plugins/SweetInventory/menus` 目录下，一个 .yml 文件代表一个菜单，文件名去除后缀名即为菜单 ID。

```yaml
# 界面标题
title: '界面标题 %page%/%max_page%'
# 界面布局模板
inventory:
  - '框框框框框框框框框'
  - '上页页页页页页页下'
  - '框框框框框框框框框'
# (可选)分页器，注释该项则不使用分页器
page-guide:
  # 分页内容应该放在上述布局的哪些字符上
  slot: 页
  # 每一页的布局，翻页时会按顺序将以下字符替换掉上述布局的字符，再应用图标
  # 列表中每一个元素 (以 - 开头) 代表一页
  pages:
    - '一二一二一二一'
    - '二一二一二一二'
# 菜单图标列表
items: {}
```

## 基础变量

可以在菜单标题、图标文字中使用的基础变量
+ `%page%` - 当前页码
+ `%max_page%` - 最大页码

## alias-ids

(可选) 菜单别名，用于使用自定义的菜单名，通过 /menu open 命令等方式打开菜单。
```yaml
alias-ids:
  - example
```

## title

(可选) 界面标题，支持基础变量与 PAPI 变量
```yaml
title: '界面标题 %page%/%max_page%'
```

## inventory

界面布局模板，一行添加9个字符，总字符数量必须为9的倍数，每个字符代表一个图标位置。
```yaml
inventory:
  - '框框框框框框框框框'
  - '上页页页页页页页下'
  - '框框框框框框框框框'
```

## bind-command

(可选) 菜单绑定的命令，允许玩家通过命令打开菜单。
```yaml
bind-command: example
```
自 `1.0.1` 起，支持为命令添加参数，如下所示：
```yaml
bind-command:
  # 菜单命令
  name: example
  # 也可以添加空格代表注册子命令
  #name: example foo bar
  # 参数不完整时提示帮助
  help-actions:
    - '[message]/example <a>'
  # 命令参数列表
  arguments:
    - { type: integer, name: a, range: '0, MAX' }
```
命令参数以列表形式编写，其中单个参数可以用 `section` 格式也可以用 `json` 格式编写，完整的单个参数配置如下所示

:::: tabs
::: tab section
```yaml
  arguments:
      # 参数类型，可用 string(字符串)、integer(整数)、number(实数)、boolean(开关值)、material(物品类型)
    - type: integer
      # 参数绑定的临时变量名，在菜单各处可以使用 ${变量名} 调用，例如 ${a}
      name: a
      # (可选配置) 参数值有效范围，格式为 '最小值, 最大值'，可用 MIN 和 MAX 代表该类型所支持的最小值与最大值
      range: '0, MAX'
      # (可选配置) 参数默认值，如果不添加这个配置，这个参数视为必选参数，反之视为可选参数
      # 需要注意: 可选参数只能放在命令参数列表的最后面，可选参数的后面不能出现必选参数
      #default-value: 0

    - type: number
      name: b
      range: '0, MAX'
      default-value: 0.0
```
:::
::: tab json
```yaml
  arguments:
      # 此处仅作 json 格式示例，注释详见 section 标签页
    - { type: integer, name: a, range: '0, MAX' }
    - { type: number, name: b, range: '0, MAX', default-value: 0.0 }
```
:::
::::

自 `1.0.2` 起，玩家执行命令需要权限 `sweet.inventory.open.menu.%id%` 才能打开菜单

## update-interval

(可选) 菜单图标更新周期（单位 ticks），设为 0 则不定期更新菜单图标。
```yaml
update-interval: 1
```

## page-guide

(可选) 分页器配置，指定界面布局模板中，哪些字符代表分页内容，以及每页应该显示什么图标。
```yaml
page-guide:
  # 分页内容应该放在上述布局的哪些字符上
  slot: 页
  # 每一页的布局，翻页时会按顺序将以下字符替换掉上述布局的字符，再应用图标
  # 列表中每一个元素 (以 - 开头) 代表一页
  pages:
    - '一二一二一二一'
    - '二一二一二一二'
```

## items

界面图标配置，详见 [菜单图标配置](/docs/inventory/icons)。

```yaml
items:
  图标1: {}
  图标2: {}
  # ...
```
