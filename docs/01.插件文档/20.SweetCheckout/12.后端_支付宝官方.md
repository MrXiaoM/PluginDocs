---
title: 后端部署 支付宝开放平台
date: 2025-01-29 11:14:42
permalink: /docs/checkout/install/backend/alipay
---

# 支付宝 开放平台

本教程默认你的网页应用已成功通过审核。

然后从下面选项卡中任选一个方案
:::: tabs
::: tab 订单码支付
需要完成「[订单码支付](https://open.alipay.com/api/detail?code=I1080300001000068149&index=0)」相关资质的申请

> 2024年11月1日起，「当面付」产品的扫码支付功能已移到「订单码支付」产品。  
> 产品申请流程和需要提供的资料与「当面付」基本一致。

使用订单码支付不需要进行额外配置。订单码支付不需要配置 `"seller_id"` 选项。
:::
::: tab 轮询模式

> 这个模式是实验性的，由于遇到了重大问题，暂时将其改为了 Hook。  
> 还没做完，无法正常使用，并且未来可能会将其移除。

不需要在开放平台申请任何额外能力，只需要开通商家码、网页应用通过审核，有基础能力可以用就行了。

需要额外在配置文件中，将 `use_basic_polling_mode` 的值改为 `true`。  
并且访问开发平台 [https://open.alipay.com/platform/keyManage.htm?keyType=partner](https://open.alipay.com/platform/keyManage.htm?keyType=partner)  
将 `合作伙伴身份（PID）` 复制到配置文件中的 `seller_id`，如下所示（部分配置已省略）。
```json
"alipay_face2face": {
    "use_basic_polling_mode": true,
    "seller_id": "2088532696653104"
}
```

:::
::::

剩下的配置方法都是一样的。

## 1. 进入开放平台

[https://open.alipay.com/develop/manage](https://open.alipay.com/develop/manage)

![](https://pic1.imgdb.cn/item/67999f7ad0e0a243d4f8688b.png)

## 2. 设置接口加签方式

![](https://pic1.imgdb.cn/item/67999f7ad0e0a243d4f8688c.png)  
![](https://pic1.imgdb.cn/item/67999f7ad0e0a243d4f8688d.png)  
![](https://pic1.imgdb.cn/item/67999f7bd0e0a243d4f8688e.png)  

按照页面中的提示下载密钥工具

## 3. 生成密钥，并填入后端配置

![](https://pic1.imgdb.cn/item/67999f7bd0e0a243d4f8688f.png)  
![](https://pic1.imgdb.cn/item/67999f9ed0e0a243d4f86895.png)  
![](https://pic1.imgdb.cn/item/67999f9fd0e0a243d4f86896.png)  
![](https://pic1.imgdb.cn/item/67999f9fd0e0a243d4f86897.png)  

重启后端或在后端执行 `reload` 命令生效。
